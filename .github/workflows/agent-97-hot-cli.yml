name: "Agent 97 – CLI Hot Reload Integration"

on:
  workflow_dispatch:
    inputs:
      agent:
        description: "Optional agent override."
        required: false
        default: ""
        type: string

permissions:
  contents: write
  pull-requests: write
  issues: write

jobs:
  run:
    uses: ./.github/workflows/_agent-hot-feature-base.yml
    secrets: inherit
    with:
      agent: ${{ inputs.agent }}
      component: "CLI orchestration (src/cli)"
      extra_context: >
        Focus on developing the CLI for the hot-reload pipeline with an explicit priority on speed, minimal overhead, and fast end-to-end iteration. Every change must be as performant or more performant than the previous state, keeping watch mode, semantic refreshes, refactor triggers, and runtime patch streaming as lightweight and low-latency as possible.
        Emphasize small, end-to-end improvements that directly reduce rebuild time, reload latency, or steady-state cost. Avoid introducing coordination layers, abstractions, or CLI features that do not materially improve hot-reload behavior. Prefer designs that delegate work to existing filesystem watchers, the JavaScript/HTML5 runtime, or platform-native tooling rather than re-implementing functionality in the CLI.
        Pair changes with focused, low-cost tests, and update documentation only where command behavior or contracts materially change—keeping docs concise and aligned with the live-reload workflow rather than expanding surface area.
