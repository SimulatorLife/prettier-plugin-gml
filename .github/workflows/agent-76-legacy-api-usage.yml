name: Agent 76 â€“ Legacy API Usage
on:
  workflow_dispatch:
    inputs:
      agent:
        description: "Optional agent override."
        required: false
        default: ""
        type: string

permissions:
  contents: write
  pull-requests: write
  issues: write

jobs:
  run:
    uses: ./.github/workflows/_agent-open-pr-and-ping.yml
    secrets: inherit
    with:
      agent: ${{ inputs.agent }}
      pr_title: "Agent: Legacy API Usage"
      prompt: >
        Detect a call site using a deprecated library/API or internal module
        slated for removal. Replace it with the recommended modern equivalent,
        adjusting surrounding code as needed. Update inline docs or comments to
        reflect the new API, and add regression coverage or manual validation
        notes proving behaviour parity. Limit the scope to one meaningful
        migration so the diff stays focused.
