name: "Agent 24 - Overengineered Block Cleanup"

on:
  workflow_dispatch:
    inputs:
      agent:
        description: "Optional agent override."
        required: false
        default: ""
        type: string

permissions:
  contents: write
  pull-requests: write
  issues: write

jobs:
  run:
    uses: ./.github/workflows/_agent-open-pr-and-ping.yml
    secrets: inherit
    with:
      agent: ${{ inputs.agent }}
      pr_title: "Agent: Overengineered Block Cleanup"
      prompt: |
        Locate a single block, function, or file whose implementation is noticeably over-engineered: bespoke helpers,
        verbose control flow, redundant state tracking, or other non-Pythonic patterns that obscure the intent. Refactor
        that one target into a concise, idiomatic solution that keeps behaviour intact while improving readability and
        maintainability. Avoid sweeping rewritesâ€”focus on the clumsiest area you can make elegant without touching
        unrelated code. Make sure tests still pass and explain the original issues and the leaner approach in the commit
        message.
