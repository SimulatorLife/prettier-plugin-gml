name: "Agent 94 â€“ Runtime Wrapper Upgrades"

on:
  workflow_dispatch:
    inputs:
      agent:
        description: "Optional agent override."
        required: false
        default: ""
        type: string

permissions:
  contents: write
  pull-requests: write
  issues: write

jobs:
  run:
    uses: ./.github/workflows/_agent-hot-feature-base.yml
    secrets: inherit
    with:
      agent: ${{ inputs.agent }}
      component: "runtime wrapper (src/runtime-wrapper)"
      extra_context: >
        Drive incremental improvements to the browser-side hot-reload wrapper with an explicit priority on speed, minimal overhead, and fast iteration time. All changes must be as performant or more performant than the previous state, with hot reload remaining as lightweight as possible.
        Focus on narrowly scoped enhancements such as WebSocket patch handling, registry lifecycle management, minimal instrumentation, or integration tests that exercise patch application paths without adding extraneous features or abstractions. Prefer designs that delegate functionality to the existing HTML5 runtime, browser APIs, or platform-native mechanisms rather than re-implementing or duplicating behavior in userland code.
        Keep changes decoupled from the transpiler, ensure alignment with the live-reloading concept document, and avoid architectural decisions that increase runtime cost, memory pressure, or reload latency.
